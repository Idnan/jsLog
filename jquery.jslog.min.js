/*! Copyright (c) 2014 Adnan Ahmed (http://adnanahmed.info)
 * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.
 *
 * Version: 1.0.0
 *
 */
if(typeof Object.create!=="function"){Object.create=function(e){function t(){}t.prototype=e;return new t}}(function(e,t,n,r){"use strict";var i={init:function(){i.generateConsole();i.takeOverConsole()},takeOverConsole:function(){this.wrapper=n.querySelector(".console-scroll-container");this.div=n.querySelector(".console-rows");t.onerror=i.interceptError;if(!console)t.console={};this._log=console.log;console.log=i.interceptLog},interceptError:function(e,t,n){if(e){i.appendToViewer(JSON.stringify(e),"error")}},interceptLog:function(){var e=arguments;this._log&&this._log.apply(console,e);var t="";if(typeof e[0]==="string"&&e.length>1&&/((^|[^%])%[sdifoO])/.test(e[0])){t=format.apply(null,e)}else{t=[].map.call(e,i.getString).join(" ")}i.appendToViewer(t,"")},isInstance:function(e,n){return e instanceof t[n]},getString:function(e,t){if(typeof e==="string"){return t?'"'+e+'"':e}else if(e==null||typeof e==="number"||typeof e==="function"||this.isInstance(e,"Date")){return""+e}else if(this.isInstance(e,"HTMLElement")){return e.outerHTML}else{try{return JSON.stringify(e,function(e,t){if(this.isInstance(t,"HTMLElement")){return t.outerHTML}else if(typeof t==="function"){return""+t}return t})}catch(n){return Object.prototype.toString.call(e)}}},format:function(){var e=0,t,n=arguments;return n[0].replace(/(%?%[sdifoO])/g,function(r){if(r.length===3)return r;t=n[++e];if(t==null){return""+t}switch(r.charAt(1)){case"s":return t;case"d":case"i":return typeof t==="number"?Math.floor(t):"NaN";case"f":return typeof t==="number"?t:"NaN";default:return this.getString(t,true)}})},appendToViewer:function(e,t){var r=n.createElement("div");r.className="console-row";var s=r.appendChild(n.createElement("code"));s.className=t==="error"?"console-row-code console-row-code-error":"console-row-code";s.textContent=e;i.div.appendChild(r);i.wrapper.scrollTop=r.offsetTop},scrollToBottom:function(){i.consoleViewerEl.scrollTop(i.consoleViewerEl.prop("scrollHeight"))},generateConsole:function(){i.consoleViewerEl='<div class="console"> <div class="console-title">Snippet Console</div> <div class="console-scroll-container"> <div class="console-rows"></div> </div> </div>';e("body").append(i.consoleViewerEl)},clearViewer:function(){i.consoleViewerEl.empty()},hideViewer:function(){i.consoleViewerEl.hide("slow")},showViewer:function(){i.consoleViewerEl.show("slow")}};e.jsLog=function(){var e=Object.create(i);e.init();return{clear:function(){e.clearViewer()},hide:function(){e.hideViewer()},show:function(){e.showViewer()}}}})(jQuery,window,document)